# Gemini MCP Server Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# Transport Settings
# =============================================================================

# Transport mode: stdio, sse, or streamable-http
GEMINI_MCP_TRANSPORT=sse

# Server port (for HTTP transports)
GEMINI_MCP_SERVER_PORT=8765

# Server host
GEMINI_MCP_SERVER_HOST=0.0.0.0

# =============================================================================
# Gemini Model Settings
# =============================================================================

# Default model for standard queries (Gemini 3 preview)
GEMINI_MCP_DEFAULT_MODEL=gemini-3-pro-preview

# Fast model for quick responses
GEMINI_MCP_FAST_MODEL=gemini-3-flash-preview

# Request timeout in seconds
GEMINI_MCP_TIMEOUT=300

# Activity timeout for streaming (seconds between events)
GEMINI_MCP_ACTIVITY_TIMEOUT=600

# Reasoning timeout for deep analysis
GEMINI_MCP_REASONING_TIMEOUT=900

# Maximum context tokens (Gemini 3 supports 1M, leave buffer)
GEMINI_MCP_MAX_CONTEXT_TOKENS=900000

# =============================================================================
# Authentication
# =============================================================================

# Option 1: Use Gemini CLI OAuth (recommended)
# Run `gemini login` and set GEMINI_CREDS_PATH below

# Option 2: Use API key directly
# GOOGLE_API_KEY=your-api-key-here

# Path to OAuth credentials file (for Docker mount)
# GEMINI_CREDS_PATH=${HOME}/.gemini/oauth_creds.json

# =============================================================================
# Security
# =============================================================================

# Optional bearer token for HTTP auth (leave empty for local/stdio use)
# When set, all HTTP requests (except /health) need "Authorization: Bearer <token>"
# GEMINI_MCP_AUTH_TOKEN=your-secret-token-here

# Comma-separated plugin allowlist (empty = allow all .py files in plugin dir)
# GEMINI_MCP_PLUGIN_ALLOWLIST=my_plugin.py,tools_extra.py

# Require SHA-256 sidecar files (.sha256) for plugin integrity verification
# GEMINI_MCP_PLUGIN_REQUIRE_HASH=false

# Colon-separated allowed base directories for file analysis
# (empty = CWD + /tmp + $HOME)
# GEMINI_MCP_ALLOWED_PATHS=/home/app/projects:/data/repos

# =============================================================================
# Feature Toggles
# =============================================================================

# Enable multi-agent swarm system
GEMINI_MCP_ENABLE_SWARM=true

# Enable AI-to-AI debate system
GEMINI_MCP_ENABLE_DEBATE=true

# =============================================================================
# Swarm Settings
# =============================================================================

# Maximum delegation depth (1-20)
GEMINI_MCP_SWARM_MAX_DEPTH=3

# Maximum concurrent agents (1-50)
GEMINI_MCP_SWARM_MAX_AGENTS=10

# =============================================================================
# Debate Settings
# =============================================================================

# Maximum debate rounds
GEMINI_MCP_DEBATE_MAX_ROUNDS=10

# Minimum rounds before convergence check
GEMINI_MCP_DEBATE_MIN_ROUNDS=3

# Novelty threshold â€” convergence below this (0.0-1.0)
GEMINI_MCP_DEBATE_NOVELTY_THRESHOLD=0.2

# Per-turn timeout in seconds
GEMINI_MCP_DEBATE_TURN_TIMEOUT=180

# =============================================================================
# Rate Limiting (for external/shared deployments)
# =============================================================================

# Requests per minute per client IP (0 = disabled)
# GEMINI_MCP_RATE_LIMIT=0

# Burst capacity (max requests before throttling)
# GEMINI_MCP_RATE_LIMIT_BURST=20

# Maximum request body size in bytes (0 = unlimited, default 10MB)
# GEMINI_MCP_MAX_REQUEST_SIZE=10485760

# =============================================================================
# Logging
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
GEMINI_MCP_LOG_LEVEL=INFO

# Enable usage logging
GEMINI_MCP_LOG_USAGE=true

# Enable structured JSON audit logging for all tool invocations
# GEMINI_MCP_AUDIT_LOG=false

# =============================================================================
# Advanced
# =============================================================================

# Auto-discover GCP project on startup (makes external HTTP call to GCP API)
# Only needed if using OAuth credentials with Vertex AI
# GEMINI_MCP_AUTO_DISCOVER_PROJECT=false

# =============================================================================
# Storage Paths
# =============================================================================

# Base directory for persistent data
# GEMINI_MCP_DATA_DIR=/home/app/.gemini-mcp

# Debate storage directory
# GEMINI_MCP_DEBATE_STORAGE_DIR=/home/app/.gemini-mcp/debates
